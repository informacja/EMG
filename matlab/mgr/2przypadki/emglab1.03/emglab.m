function emglab (varargin)% Main EMGlab function. At the command line enter: >emglab% This function creates the emglab window. All of the real work is % done by callback functions specified in emgscreen.m% Copyright (c) 2006-2009. Kevin C. McGill and others.% Part of EMGlab version 1.0.% This work is licensed under the Aladdin free public license.% For copying permissions see license.txt.% email: emglab@emglab.net	global EMGLAB	% Check the matlab version.	if exist('try')~=5;		error ('EMGlab cannot run under this version of Matlab.');		return;	end;% Does the EMGLab window already exist?	h = findall(allchild(0), 'type', 'figure', 'tag', 'EMGLAB');		if isempty(h) 		window_exists = 0;	elseif isempty (EMGLAB);		window_exists = 0;	elseif ~isfield (EMGLAB, 'figure');		delete (h);		window_exists = 0;	elseif isempty(EMGLAB.figure);		delete (h);		window_exists = 0;	elseif EMGLAB.figure~=h;		delete (h);		window_exists = 0;	else		window_exists = 1;	end;% If so, bring it forward.	if window_exists		figure (h);		return;	end;% Otherwise, add the subfolders to the matlab path ...	EMGLAB = [];		EMGLAB.path = fileparts(which('emglab'));	addpath (fullfile(EMGLAB.path,'highres'));	addpath (fullfile(EMGLAB.path,'readers'));	addpath (fullfile(EMGLAB.path,'m files'));	addpath (fullfile(EMGLAB.path,'sample data'));% and create the window.	EMGLAB.figure = [];	emgaction ('init');	EMGLAB.figure = emgscreen ('new');	