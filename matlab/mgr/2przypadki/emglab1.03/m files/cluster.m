function p = cluster (d, opt);% 	Single-linkage clustering% 		d = distance matrix% 		opt = 'min' (default) or 'max' % 		p = dendogram% Copyright (c) 2006-2009. Kevin C. McGill and others.% Part of EMGlab version 1.0.% This work is licensed under the Aladdin free public license.% For copying permissions see license.txt.% email: emglab@emglab.net	if nargin<2;		opt = 'min';	end;	l = size(d,2);	d = d + diag(nan*ones(l,1));	p = zeros(l-1,3);	for i=1:l-1;		[b,ix] = min(d);		[b,jx] = min(b);		jx = jx(1);		ix = ix(jx);		p(i,:) = [ix,jx,b];		if strcmp(opt,'max');			d(:,ix) = max(d(:,ix),d(:,jx));			d(ix,:) = max(d(ix,:),d(jx,:));		else			d(:,ix) = min(d(:,ix),d(:,jx));			d(ix,:) = min(d(ix,:),d(jx,:));		end;		d(ix,ix) = nan;		d(:,jx) = nan;		d(jx,:) = nan;	end;